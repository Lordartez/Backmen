# Автор прототипа - D4M9N
# РОЛИ И ДЕПАРТАМЕНТЫ

- type: department
  id: GruP
  name: Главное Разведывательное Управление - "Псионика"
  description: Работайте на ГРУ-П СССП. Будучи подопытным пленённым агентом синдиката, или охранником.
  color: "#FF6347"
  weight: 9
  roles:
  - SecurityLieutenant
  - Experimental
  - SecurityGuard
  - GRUScientist
  - ComplexManager
  - MedicalSanitar
  - ComplexTechnician
  - ComplexComplexJanitor
  primary: false

- type: department
  id: DSO_USSP
  name: Департамент Специальных Операций СССП
  description: Решайте проблемы комплекса будучи элитным подразделением СОБР.
  color: "#FF6347"
  weight: 8
  roles:
  - SpecERTSecurity
  - SpecERTCommander
  primary: false

- type: department
  id: Syndicate
  name: Синдикат
  description: Саботируйте комплекс.
  color: "#FF6347"
  weight: 7
  roles:
  - SynOperative
  primary: false

- type: department
  id: CultNarsie
  name: Культ Нар-Си
  description: Уничтожьте смертных.
  color: "#FF6347"
  weight: 6
  roles:
  - CultOperativeJob
  - DemonJob
  primary: false

- type: job
  id: Experimental
  name: подопытный
  description: Сбегите из комплекса, или ожидайте своей жестокой участи.
  playTimeTracker: JobExperimental
  startingGear: ExperimentalGear
  icon: "JobIconPassenger"
  supervisors: job-supervisors-everyone

- type: startingGear
  id: ExperimentalGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitPrisoner
    shoes: ClothingShoesColorBlack

- type: job
  id: SecurityLieutenant
  name: лейтенант
  description: Руководите охранниками, убивайте подопытных от скуки, руководите обороной комплекса от культистов или оперативников Синдиката.
  playTimeTracker: JobLieutenant
  weight: 10
  startingGear: LieutenantGear
  icon: "JobIconHeadOfSecurity"
  requireAdminNotify: true
  supervisors: "руководящему комплексом"
  canBeAntag: false
  accessGroups:
  - AllAccess
  special:
  - !type:AddImplantSpecial
    implants: [ MindShieldImplant ]
  - !type:AddComponentSpecial
    components:
      - type: CommandStaff

- type: startingGear
  id: LieutenantGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitHoSGrey
    back: ClothingBackpackHOSFilled
    shoes: ClothingShoesBootsJackSecFilled # Corvax-Resprite
    outerClothing: ClothingOuterVestArmorSec
    eyes: ClothingEyesGlassesSunglasses
    head: ClothingHeadHatBeretHoS
    id: LieutenantPDA
    gloves: ClothingHandsGlovesCombat
    ears: ClothingHeadsetAltSecurity
    belt: ClothingBeltSecurityFilled
  satchel: ClothingBackpackSatchelHOSFilled
  duffelbag: ClothingBackpackDuffelHOSFilled

- type: job
  id: SecurityGuard
  name: охранник 
  description: Охраняйте опасных существ, ликвидируйте подопытных в случае побега, эвакуируйте персонал во время ЧС.
  playTimeTracker: JobSecurityGuard
  weight: 9
  startingGear: SecurityGuardGear
  icon: "JobIconSecurityOfficer"
  supervisors: "лейтенанту"
  canBeAntag: false
  access:
  - Security
  - Brig
  - Maintenance
  - Service
  - External
  - Cryogenics
  - Research
  special:
  - !type:AddImplantSpecial
    implants: [ MindShieldImplant ]

- type: startingGear
  id: SecurityGuardGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitSecGrey
    back: ClothingBackpackSecurityFilled
    shoes: ClothingShoesBootsJackSecFilled
    eyes: ClothingEyesGlassesSunglasses
    head: ClothingHeadHelmetRiot
    outerClothing: ClothingOuterVestArmorSec
    id: GuardPDA
    gloves: ClothingHandsGlovesColorBlack
    ears: ClothingHeadsetSecurity
    belt: ClothingBeltSecurityFilled
  satchel: ClothingBackpackSatchelSecurityFilled
  duffelbag: ClothingBackpackDuffelSecurityFilled

- type: job
  id: GRUScientist
  name: спецучёный ГРУ-П
  description: Проводите изучения над демонами, отправляйте подопытных на верную смерть, панически зовите охрану когда всё выйдет из под контроля.
  playTimeTracker: JobGRUScientist
  weight: 8
  startingGear: GRUScientistGear
  icon: "JobIconScientist"
  supervisors: "руководящему комплексом"
  access:
  - Research
  - Maintenance
  - Service
  - Janitor
  - Engineering
  - External
  - Atmospherics

- type: startingGear
  id: GRUScientistGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitScientist
    eyes: ClothingEyesScienceVisor
    back: ClothingBackpackScienceFilled
    shoes: ClothingShoesColorWhite
    gloves: ClothingHandsGlovesLatex
    outerClothing: ClothingOuterCoatRnd
    id: GRUSciencePDA
    ears: ClothingHeadsetScience
  satchel: ClothingBackpackSatchelScienceFilled
  duffelbag: ClothingBackpackDuffelScienceFilled

- type: entity
  parent: ClothingEyesBase
  id: ClothingEyesScienceVisor
  name: визор учёного
  description: Специальное приспособление, созданное для нужд учёных.
  components:
  - type: Sprite
    sprite: Clothing/Eyes/Hud/synd.rsi
  - type: Clothing
    sprite: Clothing/Eyes/Hud/synd.rsi
  - type: ShowHealthBars
    damageContainers:
    - Biological
    - Inorganic
  - type: ShowHealthIcons
    damageContainers:
    - Biological

- type: job
  id: ComplexManager
  name: руководящий комплексом
  description: Управляйте всем и вся. Прикажите выпустить демонов потому что техник швырнул пирог вам в лицо.
  playTimeTracker: JobComplexManager
  weight: 10
  startingGear: ComplexManagerGear
  icon: "JobIconCaptain"
  requireAdminNotify: true
  supervisors: "главному командованию СССП"
  canBeAntag: false
  accessGroups:
  - AllAccess
  special:
  - !type:AddImplantSpecial
    implants: [ MindShieldImplant ]
  - !type:AddComponentSpecial
    components:
      - type: CommandStaff

- type: startingGear
  id: ComplexManagerGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitLawyerBlack
    back: ClothingBackpackHOPFilled
    shoes: ClothingShoesBootsLaceup
    head: ClothingHeadHatManagerBeret
    eyes: ClothingEyesGlassesSunglasses
    gloves: ClothingHandsGlovesColorBlack
    neck: ClothingNeckUSSPPin
    id: ComplexManagerPDA
    ears: ClothingHeadsetAltCommand
  innerClothingSkirt: ClothingUniformJumpskirtCaptain
  satchel: ClothingBackpackSatchelCaptainFilled
  duffelbag: ClothingBackpackDuffelCaptainFilled

- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatManagerBeret
  name: берет менеджера
  description: Элита, сынок.
  components:
  - type: Sprite
    sprite: Clothing/Head/Hats/beret_french.rsi
  - type: Clothing
    sprite: Clothing/Head/Hats/beret_french.rsi
  - type: Tag
    tags:
    - ClothMade
    - WhitelistChameleon

- type: job
  id: MedicalSanitar
  name: санитар-парамедик
  description: Лечите охрану и подопытных. Убегайте от демонов.
  playTimeTracker: JobMedicalSanitar
  weight: 8
  startingGear: SanitarGear
  icon: "JobIconMedicalDoctor"
  supervisors: "руководящему комплексом"
  access:
  - Medical
  - Maintenance
  - Chemistry
  - Research

- type: startingGear
  id: SanitarGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitMedicalDoctor
    back: ClothingBackpackMedicalFilled
    shoes: ClothingShoesColorWhite
    outerClothing: ClothingOuterCoatLab
    eyes: ClothingEyesHudSanitarVisor
    id: SanitarPDA
    head: ClothingHeadHatBeretSanitar
    gloves: ClothingHandsGlovesLatex
    ears: ClothingHeadsetMedical
    belt: ClothingBeltMedicalFilled
  innerClothingSkirt: ClothingUniformJumpskirtMedicalDoctor
  satchel: ClothingBackpackSatchelMedicalFilled
  duffelbag: ClothingBackpackDuffelMedicalFilled

- type: entity
  parent: [ClothingEyesBase, ShowSecurityIcons]
  id: ClothingEyesHudSanitarVisor
  name: визор санитара-парамедика
  description: Высокотехнологический биологический визор полезный для медицинских сотрудников.
  components:
  - type: Sprite
    sprite: Clothing/Eyes/Hud/syndagent.rsi
  - type: Clothing
    sprite: Clothing/Eyes/Hud/syndagent.rsi
  - type: ShowHealthBars
    damageContainers:
    - Biological

- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatBeretSanitar
  name: берет санитара-парамедика
  description: Берет, который является признаком единственного адекватного сотрудника в комплексе. Или нет.
  components:
  - type: Sprite
    sprite: Clothing/Head/Hats/beret_physician.rsi
  - type: Clothing
    sprite: Clothing/Head/Hats/beret_physician.rsi

- type: job
  id: ComplexTechnician
  name: техник комплекса
  description: Чините проводку, врывайтесь к спецучёным без предупреждений и выпивайте в кафе в свободное время.
  playTimeTracker: JobComplexTechician
  weight: 6
  startingGear: ComplexTechnicianGear
  icon: "JobIconStationEngineer"
  supervisors: "руководящему комплексом"
  access:
  - Maintenance
  - Engineering
  - External
  - Atmospherics
  - Research

- type: startingGear
  id: ComplexTechnicianGear
  equipment:
    back: ClothingBackpackEngineeringFilled
    shoes: ClothingShoesBootsWork
    jumpsuit: ClothingUniformJumpsuitEngineeringHazard
    head: ClothingHeadHatHardhatOrange
    eyes: ClothingEyesGlassesMeson
    belt: ClothingBeltUtilityEngineering
    ears: ClothingHeadsetEngineering
    id: TechnicalPDA

- type: job
  id: ComplexComplexJanitor
  name: уборщик комплекса
  description: Убирайтесь в комплексе.
  playTimeTracker: JobComplexJanitor
  weight: 6
  startingGear: JanGear
  icon: "JobIconJanitor"
  supervisors: "руководящему комплексом"
  access:
  - Service
  - Janitor
  - Maintenance
  - Research

# СОБР

- type: job
  id: SpecERTSecurity
  name: офицер СОБР
  description: Эвакуируйте персонал, попытайтесь восстановить условия содержания или ликвидировать демонов. Активируйте Альфа-боеголовку когда всё пойдёт не по плану.
  playTimeTracker: SpecERTSecurity
  weight: 6
  startingGear: JobSERTSecurityGear
  icon: "JobIconCaptain"
  supervisors: job-supervisors-centcom
  canBeAntag: false
  accessGroups:
  - AllAccess
  access:
  - CentralCommand

- type: startingGear
  id: JobSERTSecurityGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitERTSecurity
    back: ClothingMilitaryBackpackSERTFilled
    shoes: ClothingShoesBootsCombatFilled
    head: ClothingHeadHelmetERTSecurity
    mask: ClothingMaskGasSwat
    eyes: ClothingEyesGlassesSecurity
    gloves: ClothingHandsGlovesCombat
    outerClothing: ClothingOuterArmorSERT
    id: SERTSecurityPDA
    ears: ClothingHeadsetAltCentCom
    belt: ClothingBeltMilitaryWebbing
    neck: ClothingNeckUSSPPin
    pocket1: WeaponPistolViper
    pocket2: FlashlightSeclite

- type: job
  id: SpecERTCommander
  name: командир СОБР
  description: Руководите Специальным Отрядом Быстрого Реагирования. Выполните поставленные Главным Командованием цели. Не умрите.
  playTimeTracker: SpecERTSecurityCommander
  weight: 7
  startingGear: JobSERTComGear
  icon: "JobIconCaptain"
  supervisors: job-supervisors-centcom
  canBeAntag: false
  accessGroups:
  - AllAccess
  access:
  - CentralCommand

- type: startingGear
  id: JobSERTComGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitERTLeader
    back: ClothingMilitaryBackpackSERTFilled
    shoes: ClothingShoesBootsCombatFilled
    head: ClothingHeadHelmetERTLeader
    mask: ClothingMaskGasSwat
    eyes: ClothingEyesGlassesSecurity
    gloves: ClothingHandsGlovesCombat
    outerClothing: ClothingOuterArmorSERT
    id: SERTLeaderPDA
    ears: ClothingHeadsetAltCentCom
    belt: ClothingBeltMilitaryWebbing
    neck: ClothingNeckUSSPPin
    pocket1: WeaponPistolViper
    pocket2: FlashlightSeclite

- type: entity
  parent: ClothingMilitaryBackpack
  id: ClothingMilitaryBackpackSERTFilled
  name: рюкзак СОБР
  description: Рюкзак армейского класса, способный вмещать оружие и снаряжение Специальных Отрядов Быстрого Реагирования.
  components:
  - type: StorageFill
    contents:
      - id: WeaponRifleM90GrenadeLauncher
      - id: BoxMagazineRifle
      - id: MedkitCombatFilled
      - id: ClusterBangFull
      - id: ClusterBangFull
      - id: MagazinePistol
      - id: MagazinePistol
  - type: Storage
    grid:
    - 0,0,10,3

- type: entity
  parent: ClothingOuterBaseMedium
  id: ClothingOuterArmorSERT
  name: бронежилет СОБР
  description: Тяжёлый бронежилет, который носят бойцы СОБР.
  components:
  - type: Sprite
    sprite: Clothing/OuterClothing/Armor/security.rsi
  - type: Clothing
    sprite: Clothing/OuterClothing/Armor/security.rsi
  - type: Armor 
    modifiers:
      coefficients:
        Blunt: 0.50
        Slash: 0.50
        Piercing: 0.60 #Can save you, but bullets will still hurt. Will take about 10 shots from a Viper before critting, as opposed to 7 while unarmored and 16~ with a bulletproof vest.
        Heat: 0.85
  - type: ExplosionResistance
    damageCoefficient: 0.80

# СИНДИКАТ

- type: job
  id: SynOperative
  name: оперативник Синдиката
  description: Среди подопытных есть носители ценной информации. Освободите их всех, убивая попутно персонал.
  playTimeTracker: JobSyndieOperative
  startingGear: SyndicateOperativeGearFullHelmet
  icon: "JobIconSyndie"
  supervisors: "своим нанимателям"

- type: startingGear
  id: SyndicateOperativeGearFullHelmet
  equipment:
    jumpsuit: ClothingUniformJumpsuitOperative
    back:  ClothingBackpackDuffelSyndicateComplexRushFilled
    mask: ClothingMaskGasSyndicate
    eyes: ClothingEyesHudSyndicate
    head: ClothingHeadHelmetHardsuitSyndie
    ears: ClothingHeadsetAltSyndicate
    gloves: ClothingHandsGlovesCombat
    outerClothing: ClothingOuterHardsuitSyndie
    shoes: ClothingShoesBootsCombatFilled
    id: AccesRedactor
    pocket1: DoubleEmergencyOxygenTankFilled
    pocket2: WeaponPistolCobra
    belt: ClothingBeltMilitaryWebbing
  innerClothingSkirt: ClothingUniformJumpskirtOperative
  satchel: ClothingBackpackDuffelSyndicateOperative
  duffelbag: ClothingBackpackDuffelSyndicateOperative

- type: statusIcon
  parent: JobIcon
  id: JobIconSyndie
  icon:
    sprite: Interface/Misc/job_icons.rsi
    state: Syndicate

- type: entity
  parent: ClothingBackpackDuffelSyndicateBundle
  id: ClothingBackpackDuffelSyndicateComplexRushFilled
  name: operative duffelbag
  components:
  - type: StorageFill
    contents:
      - id: BoxSurvivalSyndicate
      - id: BoxMagazinePistolSubMachineGun
      - id: WeaponSubMachineGunC20r
      - id: DeathAcidifierImplanter
      - id: EnergySword
      - id: GrenadeShrapnel
      - id: GrenadeShrapnel 
      - id: MagazinePistolCaselessRifle
      - id: MagazinePistolCaselessRifle
      - id: MedkitCombatFilled

- type: entity
  id: RandomHumanoidSpawnerSyndieOperativeComplexRushers
  name: Оперативник Синдиката (комплекс)
  components:
    - type: Sprite
      sprite: Objects/Fun/toys.rsi
      state: synb
    - type: RandomMetadata
      nameSegments:
      - SyndicateNamesPrefix
      - SyndicateNamesElite
    - type: RandomHumanoidSpawner
      settings: SyndieRushersSettings

- type: randomHumanoidSettings
  id: SyndieRushersSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Оперативник Синдиката
      description: Вы - оперативник Синдиката. Среди подопытных есть носители крайне ценной информации. Эвакуируйте всех подопытных, а дальше ваши наниматели сами разберуться.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ SyndicateOperativeGearFullHelmet ]
    - type: RandomMetadata
      nameSegments:
      - SyndicateNamesPrefix
      - SyndicateNamesElite


# АЙДИ КАРТЫ И КПК (идут друг за дружкой)

- type: entity
  parent: BasePDA
  id: GuardPDA
  name: КПК охранника
  description: КПК охраны. Если вы нашли его на полу, то, вероятно, его владелец умер гордо защищая персонал. Или его загнобили оперативники Синдиката.
  components:
  - type: Pda
    id: GuardIDCard
    state: pda-security
  - type: PdaBorderColor
    borderColor: "#A32D26"
  - type: Icon
    state: pda-security

- type: entity
  parent: IDCardStandard
  id: GuardIDCard
  name: ID-карта охраны
  components:
  - type: Sprite
    layers:
    - state: default
    - state: idsecurityofficer
  - type: PresetIdCard
    job: SecurityGuard

- type: entity
  parent: BasePDA
  id: LieutenantPDA
  name: КПК Лейтенанта
  description: Носитель этого КПК воплощение надежды.
  components:
  - type: Pda
    id: LieutenantIDCard
    state: pda-hos
  - type: PdaBorderColor
    borderColor: "#A32D26"
    accentHColor: "#447987"
  - type: Icon
    state: pda-hos

- type: entity
  parent: IDCardStandard
  id: LieutenantIDCard
  name: ID-карта лейтенанта
  components:
  - type: Sprite
    layers:
    - state: silver
    - state: idheadofsecurity
  - type: Item
    heldPrefix: silver
  - type: PresetIdCard
    job: SecurityLieutenant

- type: entity
  parent: BasePDA
  id: GRUSciencePDA
  name: КПК спецучёного
  description: По крайней мере, вас не съел огромный демон.
  components:
  - type: Pda
    id: GRUResearchIDCard
    state: pda-science
  - type: PdaBorderColor
    borderColor: "#d7d7d0"
    accentVColor: "#8900c9"
  - type: Icon
    state: pda-science

- type: entity
  parent: IDCardStandard
  id: GRUResearchIDCard
  name: ID-карта спецучёного 
  components:
  - type: Sprite
    layers:
    - state: default
    - state: idscientist
  - type: PresetIdCard
    job: GRUScientist

- type: entity
  parent: BasePDA
  id: ComplexManagerPDA
  name: КПК руководящего комплексом
  description: Элита ГРУ-П для персонала. Козёл отпущения для Главного Командования СССП. 
  components:
  - type: Pda
    id: ComplexManagerIDCard
    state: pda-captain
    penSlot:
      startingItem: PenCap
      priority: -1
      whitelist:
        tags:
        - Write
  - type: PdaBorderColor
    borderColor: "#7C5D00"
  - type: Icon
    state: pda-captain

- type: entity
  parent: IDCardStandard
  id: ComplexManagerIDCard
  name: ID-карта руководящего комплексом
  components:
  - type: Sprite
    layers:
    - state: gold
    - state: idcaptain
  - type: Item
    heldPrefix: gold
  - type: PresetIdCard
    job: ComplexManager
  - type: Tag
    tags:
    - DoorBumpOpener
    - WhitelistChameleon

- type: entity
  parent: BaseMedicalPDA
  id: SanitarPDA
  name: КПК санитара-парамедика
  description: Чистый и стерильный. Имеет встроенный анализатор здоровья.
  components:
  - type: Pda
    id: SanitarIDCard
    state: pda-medical
  - type: PdaBorderColor
    borderColor: "#d7d7d0"
    accentVColor: "#447987"
  - type: Icon
    state: pda-medical

- type: entity
  parent: IDCardStandard
  id: SanitarIDCard
  name: ID-карта санитара-парамедика
  components:
  - type: Sprite
    layers:
    - state: default
    - state: idmedicaldoctor
  - type: PresetIdCard
    job: MedicalSanitar

- type: entity
  parent: ERTLeaderPDA
  id: SERTSecurityPDA
  name: КПК офицера СОБР
  suffix: Security
  description: Красный значит мощный. Мощный значит СОБР.
  components:
  - type: Pda
    id: SERTSecurityIDCard

- type: entity
  parent: IDCardStandard
  id: SERTSecurityIDCard
  name: ID-карта офицера СОБР
  components:
  - type: Sprite
    layers:
    - state: centcom
    - state: idcentcom
  - type: Item
    heldPrefix: blue
  - type: IdCard
    jobTitle: Офицер СОБР
    jobIcon: JobIconCaptain
  - type: Access
    groups:
    - AllAccess
    tags:
    - CentralCommand

- type: entity
  parent: BasePDA
  id: SERTLeaderPDA
  name: КПК командира СОБР
  suffix: Leader
  description: Красный значит мощный. Мощный значит СОБР.
  components:
  - type: Pda
    id: SERTComIDCard
    state: pda-ert
  - type: PdaBorderColor
    borderColor: "#A32D26"
    accentHColor: "#447987"
    accentVColor: "#447987"
  - type: Icon
    state: pda-ert

- type: entity
  parent: IDCardStandard
  id: SERTComIDCard
  name: ID-карта командира СОБР
  components:
  - type: Sprite
    layers:
    - state: centcom
    - state: idcentcom
  - type: Item
    heldPrefix: blue
  - type: IdCard
    jobTitle: Командир СОБР
    jobIcon: JobIconCaptain
  - type: Access
    groups:
    - AllAccess
    tags:
    - CentralCommand

- type: entity
  parent: BasePDA
  id: TechnicalPDA
  name: КПК техника
  description: Стильный КПК полного разгильдяя.
  components:
  - type: Pda
    id: TechnicalIDCard
    state: pda-engineer
  - type: PdaBorderColor
    borderColor: "#949137"
    accentVColor: "#A32D26"
  - type: Icon
    state: pda-engineer

- type: entity
  parent: IDCardStandard
  id: TechnicalIDCard
  name: ID-карта техника
  components:
  - type: Sprite
    layers:
    - state: default
    - state: idstationengineer
  - type: PresetIdCard
    job: StationEngineer

# ГОСТ РОЛИ

- type: entity
  id: RandomHumanoidSpawnerComplexManager
  name: Руководящий Комплексом
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: captain
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: ComplexManagerSettings

- type: randomHumanoidSettings
  id: ComplexManagerSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Руководящий Комплексом
      description: Управляйте комплексом. Выпустите демонов за то, что техник швырнул вам пирог в лицо. Активируйте Альфа-боеголовку и дружно с СОБР улетите в закат.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ ComplexManagerGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerLieutenant
  name: Лейтенант
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: hos
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: LieutenantSettings

- type: randomHumanoidSettings
  id: LieutenantSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Лейтенант
      description: Руководите охраной, убивайте подопытных от скуки, обороняйте комплекс от оперативников Синдиката или культистов.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ LieutenantGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerGuard
  name: Охранник комплекса
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: security_officer
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: GuardSettings

- type: randomHumanoidSettings
  id: GuardSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Охранник комплекса
      description: Охраняйте комплекс, убивайте подопытных в случае побега, эвакуируйте персонал при ЧС.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ SecurityGuardGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerGRUSientist
  name: Спецучёный ГРУ-П
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: scientist
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: GRUSSettings

- type: randomHumanoidSettings
  id: GRUSSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Спецучёный ГРУ-П
      description: Исследуйте демонов, выполняйте научные цели ГК СССП, отправляйте подопытных на верную смерть и панически зовите охрану когда всё выйдет из под контроля.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ GRUScientistGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerSanitar
  name: Санитар
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: paramedic
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: SanitarSettings

- type: randomHumanoidSettings
  id: SanitarSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Санитар
      description: Лечите персонал комплекса. Убегайте от демонов. Согласитесь на сделку со сбежавшим подопытным и будьте застрелены охранником который подумал что вы переодевшийся подопытный.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ SanitarGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerTechnical
  name: Техник
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: engineer
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: TechnicalSettings

- type: randomHumanoidSettings
  id: TechnicalSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Техник комплекса
      description: Чините проводку, спивайтесь в баре.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ ComplexTechnicianGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerExperemintal
  name: Подопытный
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: prisoner
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: ExperemintalSettings

- type: randomHumanoidSettings
  id: ExperemintalSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Подопытный
      description: Учавствуйте в эксперементах, не умрите, попытайтесь сбежать.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ ExperimentalGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: entity
  id: RandomHumanoidSpawnerJanitorComplex
  name: Уборщик комплекса
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: janitor
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: JanSettings

- type: randomHumanoidSettings
  id: JanSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Уборщик комплекса
      description: Убирайтесь в комнатах, убирайтесь в коридорах, убирайтесь везде...
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ JanGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: startingGear
  id: JanGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitJanitor
    back: ClothingBackpackFilled
    shoes: ClothingShoesGaloshes
    head: ClothingHeadHatPurplesoft
    id: JanitorPDA
    gloves: ClothingHandsGlovesJanitor
    ears: ClothingHeadsetService
    belt: ClothingBeltJanitorFilled
  satchel: ClothingBackpackSatchelFilled
  duffelbag: ClothingBackpackDuffelFilled

# ГОСТРОЛИ СОБР

- type: entity
  id: RandomHumanoidSpawnerSERTOficer
  name: Офицер СОБР
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: ertsecurity
    - type: RandomMetadata
      nameSegments:
      - NamesFirstMilitary
      - NamesLastMilitary
    - type: RandomHumanoidSpawner
      settings: SERTOficerSettings

- type: randomHumanoidSettings
  id: SERTOficerSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Офицер СОБР
      description: Вы - член элитного подразделения СОБР. Эвакуируйте персонал и уничтожьте демонов. Огнестрельным оружием или Альфа-боеголовкой.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ JobSERTSecurityGear ]
    - type: RandomMetadata
      nameSegments:
      - NamesFirstMilitary
      - NamesLastMilitary

- type: entity
  id: RandomHumanoidSpawnerSERTCommander
  name: Лидер СОБР
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: ertleader
    - type: RandomMetadata
      nameSegments:
      - NamesFirstMilitaryLeader
      - NamesLastMilitary
    - type: RandomHumanoidSpawner
      settings: SERTComSettings

- type: randomHumanoidSettings
  id: SERTComSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Лидер СОБР
      description: Вы - лидер элитного подразделения СОБР. Руководите эвакуацией персонала и ликвидацией демонов.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ JobSERTSecurityGear ]
    - type: RandomMetadata
      nameSegments:
      - NamesFirstMilitaryLeader
      - NamesLastMilitary

# ОПЕРАТИВНИКИ КУЛЬТА

- type: entity
  id: RandomHumanoidSpawnerCultistOperative
  name: Оперативник культа
  components:
    - type: Sprite
      sprite: Markers/jobs.rsi
      state: green
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male
    - type: RandomHumanoidSpawner
      settings: CultOperativeSettings

- type: randomHumanoidSettings
  id: CultOperativeSettings
  randomizeName: false
  components:
    - type: GhostRole
      name: Оперативник культа
      description: Вы - оперативник культа Нар'Си. Выведите демонов из комплекса, попутно уничтожая персонал.
    - type: GhostTakeoverAvailable
    - type: Loadout
      prototypes: [ JobCultistOperativeGear ]
    - type: RandomMetadata
      nameSegments:
      - names_first_male
      - names_last_male

- type: startingGear
  id: JobCultistOperativeGear
  equipment:
    jumpsuit: ClothingUniformJumpsuitTacticool
    back: ClothingBackpackCultFilled
    shoes: ClothingShoesCult
    head: ClothingHeadHelmetCult
    mask: ClothingMaskJackal
    eyes: ClothingEyesGlassesSunglasses
    gloves: ClothingHandsGlovesCombat
    outerClothing: ClothingOuterArmorCult
    id: AccesRedactor
    ears: ClothingHeadsetAltCult
    belt: ClothingBeltAssault
    pocket1: WeaponRevolverPython
    pocket2: FlashlightLantern

- type: entity
  parent: ClothingBackpack
  id: ClothingBackpackCult
  name: рюкзак культа
  description: Странно выглядящий рюкзак фанатиков.
  components:
  - type: Sprite
    sprite: Clothing/Back/Backpacks/syndicate.rsi
  - type: ExplosionResistance
    damageCoefficient: 0.9

- type: entity
  noSpawn: true
  parent: ClothingBackpackCult
  id: ClothingBackpackCultFilled
  components:
  - type: StorageFill
    contents:
      - id: WeaponRifleAk
      - id: MagazineLightRifle
      - id: MagazineLightRifle
      - id: MagazineLightRifle
      - id: MagazineLightRifle
      - id: SpeedLoaderMagnum
      - id: MedicatedSuture

- type: entity
  parent: Clothing
  id: AcessRedactorStandard
  name: редактор доступа
  description: Продвинутое устройство, способное в кратчайший срок получать доступ к системе безопасности шлюза и открывать его.
  abstract: true
  components:
  - type: Sprite
    sprite: Objects/Tools/emag.rsi
    state: icon
  - type: Clothing
    slots:
    - idcard
    sprite: Objects/Misc/id_cards.rsi
  - type: Item
    size: Small
    heldPrefix: default
    storedRotation: -90
  - type: Access
  - type: StationRecordKeyStorage
  - type: Tag
    tags:
    - DoorBumpOpener
    - WhitelistChameleon

- type: entity
  parent: AcessRedactorStandard
  id: AccesRedactor
  name: редактор доступа
  description: Продвинутое устройство, способное в кратчайший срок получать доступ к системе безопасности шлюза и открывать его.
  components:
  - type: Sprite
    sprite: Objects/Tools/emag.rsi
    state: icon
  - type: Access
    groups:
    - AllAccess

- type: radioChannel
  id: Cult
  name: Оперативники Культа
  keycode: 'а'
  frequency: 8123
  color: "#800000"
  longRange: true

- type: entity
  parent: EncryptionKey
  id: EncryptionKeyCult
  name: ключ шифрования культа Нар'Си
  description: Ключ шифрования жутких фанатиков, поклоняющихся Нар'Си. 
  components:
  - type: EncryptionKey
    channels:
    -  Cult
    defaultChannel: Cult
  - type: Sprite
    layers:
    - state: crypt_red
    - state: synd_label

- type: entity
  parent: ClothingHeadsetAlt
  id: ClothingHeadsetAltCult
  name: полноразмерная гарнитура культ Нар'Си
  description: Полноразмерная гарнитура, по которой шепчутся культисты.
  components:
  - type: Headset
  - type: EncryptionKeyHolder
    keySlots: 5
  - type: ContainerFill
    containers:
      key_slots:
      - EncryptionKeyCult
  - type: Sprite
    sprite: Clothing/Ears/Headsets/syndicate.rsi
  - type: Clothing
    sprite: Clothing/Ears/Headsets/syndicate.rsi

- type: job
  id: CultOperativeJob
  name: оперативник Культа
  description: Освободите демонов, попутно убивая персонал. Поклоняйтесь Нар'Си. Помните свою священную миссию.
  playTimeTracker: JobCultist
  startingGear: JobCultistOperativeGear
  icon: "JobIconCult"
  supervisors: "Нар'Си"

- type: job
  id: DemonJob
  name: демон
  description: Убивайте персонал. Ждите оперативников Культа. Ешьте подопытных.
  playTimeTracker: JobDemon
  startingGear: DemonGear
  icon: "JobIconCult"
  supervisors: "Нар'Си"

- type: startingGear
  id: DemonGear

- type: statusIcon
  parent: JobIcon
  id: JobIconCult
  icon:
    sprite: Interface/Misc/job_icons.rsi
    state: Revolutionary

# ДЕМОНЫ

- type: entity
  name: Burrower
  id: MobDemon
  parent: SimpleSpaceMobBase
  description: Безумное существо, которое было создано для защиты Нар'Си.
  components:
  - type: Insulated
  - type: CombatMode
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: XenoCompound
    blackboard:
      NavClimb: !type:Bool
        true
      NavInteract: !type:Bool
        true
      NavPry: !type:Bool
        true
      NavSmash: !type:Bool
        true
  - type: Tool
    speed: 1.5
    qualities:
      - Prying
  - type: Prying
    pryPowered: !type:Bool
        true
    force: !type:Bool
      true
    useSound:
      path: /Audio/Items/crowbar.ogg
  - type: Reactive
    groups:
      Flammable: [Touch]
      Extinguish: [Touch]
  - type: NpcFactionMember
    factions:
    - Xeno
  - type: Hands
  - type: Sprite
    drawdepth: Mobs
    sprite: Mobs/Aliens/Xenos/burrower.rsi
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: running
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        density: 1000
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobState
    allowedStates:
    - Alive
    - Dead
  - type: MobThresholds
    thresholds:
      0: Alive
      50: Dead
  - type: Stamina
    critThreshold: 200
  - type: Bloodstream
    bloodReagent: FluorosulfuricAcid
    bloodMaxVolume: 650
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    soundHit:
     collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 6
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead
  - type: Puller
  - type: Butcherable
    butcheringType: Spike
    spawned:
    - id: FoodMeatXeno
      amount: 5
  - type: TypingIndicator
    proto: alien
  - type: Temperature
    heatDamageThreshold: 360
    coldDamageThreshold: -150
    currentTemperature: 310.15
  - type: Tag
    tags:
      - CannotSuicide
      - DoorBumpOpener
      - FootstepSound
  - type: NoSlip
  - type: Perishable #Ummmm the acid kills a lot of the bacteria or something
    molsPerSecondPerUnitMass: 0.0005
  - type: Speech
    speechVerb: LargeMob

- type: entity
  name: 002..#%!#^!&#
  parent: MobDemon
  id: MobDemon002
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: Mobs/Aliens/flesh.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: jared
  - type: MovementSpeedModifier
    baseSprintSpeed: 7.5
  - type: MeleeWeapon
    damage:
     groups:
       Brute: 8
    bluntStaminaDamageFactor: 15.0
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 235
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: DamageStateVisuals
    states:
      Alive:
        Base: jared
      Critical:
        Base: dead
      Dead:
        Base: dead
  - type: MobThresholds
    thresholds:
      0: Alive
      250: Dead
  - type: Puller
    needsHands: false

- type: entity
  name: 004..#%!#^!&#
  parent: MobDemon
  id: MobDemon004
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: Mobs/Aliens/flesh.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: golem
  - type: MovementSpeedModifier
    baseSprintSpeed: 1.5
    baseWalkSpeed: 1.0
  - type: MeleeWeapon
    damage:
     groups:
       Brute: 50
    attackRate: 0.5
    bluntStaminaDamageFactor: 1.0
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 235
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: DamageStateVisuals
    states:
      Alive:
        Base: golem
      Critical:
        Base: dead
      Dead:
        Base: dead
  - type: MobThresholds
    thresholds:
      0: Alive
      500: Dead
  - type: Puller
    needsHands: false
  - type: Stealth
  - type: StealthOnMove

- type: entity
  name: 006..#%!#^!&#
  parent:
  - BaseSimpleMob
  - MobCombat
  - MobBloodstream
  id: MobDemon006
  components:
  - type: RotationVisuals
    defaultRotation: 90
    horizontalRotation: 90
  - type: GhostTakeoverAvailable
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
      - SimpleHostile
  - type: Body
    prototype: Animal
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: HellSpawn
  - type: MovementSpeedModifier
    baseWalkSpeed: 2
    baseSprintSpeed: 3
  - type: Sprite
    sprite: Mobs/Demons/hellspawn.rsi
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alive
  - type: DamageStateVisuals
    states:
      Alive:
        Base: alive
      Dead:
        Base: dead
  - type: Firestarter
  - type: NameIdentifier
    group: GenericNumber
  - type: MobPrice
    price: 1000 # Living critters are valuable in space.
  - type: Perishable
  - type: Reflect
    reflectProb: 0.7
    reflects:
      - Energy
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.9
        density: 300
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobState
  - type: Tag
    tags:
      - CannotSuicide
      - DoorBumpOpener
      - FootstepSound
  - type: MobThresholds
    thresholds:
      0: Alive
      800: Dead
  - type: Butcherable
    spawned:
      - id: ArtifactFragment
        amount: 4
  - type: MeleeWeapon
    attackRate: 0.6
    hidden: true
    soundHit:
      path: /Audio/Weapons/Xeno/alien_claw_flesh3.ogg
    damage:
      types:
        Blunt: 100
        Structural: 70
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepThud
  - type: PointLight
    radius: 2
    energy: 4.5
    color: "#ff4242"
    castShadows: false

# РАУНДСТАРТ РОЛЬКИ 

- type: entity
  id: SpawnPointComplexManager
  parent: SpawnPointJobBase
  name: руководящий комплексом (джобспавн)
  components:
  - type: SpawnPoint
    job_id: ComplexManager
  - type: Sprite
    layers:
      - state: green
      - state: captain

- type: entity
  id: SpawnPointSecurityLieutenant
  parent: SpawnPointJobBase
  name: лейтенант (джобспавн)
  components:
  - type: SpawnPoint
    job_id: SecurityLieutenant
  - type: Sprite
    layers:
      - state: green
      - state: hos

- type: entity
  id: SpawnPointSecurityGuard
  parent: SpawnPointJobBase
  name: охранник (джобспавн)
  components:
  - type: SpawnPoint
    job_id: SecurityGuard
  - type: Sprite
    layers:
      - state: green
      - state: security_officer

- type: entity
  id: SpawnPointGRUSci
  parent: SpawnPointJobBase
  name: спецучёный (джобспавн)
  components:
  - type: SpawnPoint
    job_id: GRUScientist
  - type: Sprite
    layers:
      - state: green
      - state: scientist

- type: entity
  id: SpawnPointMedicalSanitar
  parent: SpawnPointJobBase
  name: санитар-парамедик (джобспавн)
  components:
  - type: SpawnPoint
    job_id: MedicalSanitar
  - type: Sprite
    layers:
      - state: green
      - state: geneticist

- type: entity
  id: SpawnPointComplexTechnician
  parent: SpawnPointJobBase
  name: техник (джобспавн)
  components:
  - type: SpawnPoint
    job_id: ComplexTechnician
  - type: Sprite
    layers:
      - state: green
      - state: engineer

- type: entity
  id: SpawnPointComplexJanitor
  parent: SpawnPointJobBase
  name: уборщик (джобспавн)
  components:
  - type: SpawnPoint
    job_id: ComplexComplexJanitor
  - type: Sprite
    layers:
      - state: green
      - state: janitor

- type: entity
  id: SpawnPointExperemintal
  parent: SpawnPointJobBase
  name: подопытный (джобспавн)
  components:
  - type: SpawnPoint
    job_id: Experimental
  - type: Sprite
    layers:
      - state: green
      - state: janitor

# АЛЬФА БОЕГОЛОВКА

- type: entity
  parent: BaseStructure
  id: AlphaNuclearTerminal
  name: терминал управления Альфа-боеголовкой
  description: Консоль, которая способна взвести Альфа-боеголовку. Если она активирована, то вам остаётся только бежать.
  components:
  - type: Transform
    anchored: true
  - type: Sprite
    sprite: Structures/Machines/computers.rsi
    noRot: true
    layers:
    - state: computer-datatheory
      map: ["enum.NukeVisualLayers.Base"]
    - state: computer-datatheory
      map: ["enum.NukeVisualLayers.Unlit"]
      shader: shaded
      visible: false
    - state: computer-datatheory
      map: ["christmas"]
      visible: false
  - type: Appearance
  - type: HolidayVisuals
    holidays:
      festive:
      - FestiveSeason
  - type: GenericVisualizer
    visuals:
      enum.HolidayVisuals.Holiday:
        christmas:
          festive: { visible: true }
      enum.NukeVisuals.Deployed:
        enum.NukeVisualLayers.Base:
          False: { state: computer-datatheory }
          True:  { state: computer-datatheory }
        enum.NukeVisualLayers.Unlit:
          True:  { visible: true }
          False: { visible: false }
      enum.NukeVisuals.State:
        enum.NukeVisualLayers.Unlit:
          Idle:        { state: computer-datatheory }
          Armed:       { state: computer-datatheory }
          YoureFucked: { state: computer-datatheory }
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.45
        density: 80 #It has wheels and bluespace tech to make it lighter.
        mask:
        - MachineMask
        layer:
        - HalfWallLayer
  - type: PointLight
    enabled: true
    radius: 1.3
    energy: 3.0
    color: "#FFE4CEFF"
  - type: NavMapBeacon
    color: "#ff0000"
    text: alpha nuclear terminal
    enabled: false
  - type: NukeLabel
  - type: Nuke
    explosionType: Default
    maxIntensity: 100
    intensitySlope: 5
    totalIntensity: 50000000
    diskSlot:
      name: nuke-slot-component-slot-name-disk
      insertSound:
        path: /Audio/Machines/terminal_insert_disc.ogg
      ejectSound:
        path: /Audio/Machines/terminal_insert_disc.ogg
      whitelist:
        components:
        - NukeDisk
    alertLevelOnActivate: delta
    alertLevelOnDeactivate: green
  - type: InteractionOutline
  - type: ActivatableUI
    key: enum.NukeUiKey.Key
  - type: UserInterface
    interfaces:
      enum.NukeUiKey.Key:
        type: NukeBoundUserInterface
  - type: StaticPrice
    price: 50000 # О ДА, ВЗОРВЁМ КОМПЛЕКС ПО ПОЛНОЙ!
  - type: CargoSellBlacklist
  - type: ArrivalsBlacklist
  - type: ItemSlots
  - type: ContainerContainer
    containers:
      Nuke: !type:ContainerSlot
  - type: WarpPoint
    follow: true
    location: alpha nuclear terminal